<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLOS Payment Page</title>
</head>
<body>
    <h1>ATLOS Payment Page</h1>
    <p>Enter the payment details:</p>
    
    <label for="merchantId">Merchant ID:</label>
    <input type="text" id="merchantId" name="merchantId" value="R2KOB5MP23"><br><br>
    
    <label for="orderId">Order ID:</label>
    <input type="text" id="orderId" name="orderId" value=""><br><br>
    
    <label for="orderAmount">Order Amount:</label>
    <input type="text" id="orderAmount" name="orderAmount" value=""><br><br>
    
    <label for="orderCurrency">Order Currency:</label>
    <input type="text" id="orderCurrency" name="orderCurrency" value="USD"><br><br>
    
    <button onclick="openPaymentWidget()">Pay with ATLOS</button>
    
<script>
    // Function to load the ATLOS payment widget
    function loadAtlosPaymentWidget() {
        const merchantId = 'R2KOB5MP23'; // Replace with your ATLOS Merchant ID
        const orderId = document.getElementById('orderId').value;
        const orderAmount = document.getElementById('orderAmount').value;
        const orderCurrency = 'USD'; // Replace with your desired currency

        // Create a script element to load the ATLOS payment widget script
        const script = document.createElement('script');
        script.src = `https://atlos.io/api/paymentWidget?merchantId=${merchantId}&orderId=${orderId}&orderAmount=${orderAmount}&orderCurrency=${orderCurrency}`;
        script.type = 'text/javascript';
        script.async = true;

        // Append the script to the document
        document.head.appendChild(script);
    }

    // Function to handle the payment response
    function handlePaymentResponse(response) {
        // Handle the payment response here
        console.log('Payment Response:', response);

        // You can perform actions based on the payment response, e.g., update order status
    }

    // Function to open the payment widget
    function openPaymentWidget() {
        loadAtlosPaymentWidget();
    }

    // Add an event listener to handle the payment response
    window.addEventListener('message', function (event) {
        if (event.origin === 'https://atlos.io' && event.data && event.data.event === 'paymentResponse') {
            handlePaymentResponse(event.data.data);
        }
    });
</script>

</body>
</html>
